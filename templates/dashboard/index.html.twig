{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}

    {# Notifications #}
    <div class="notification-container">
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                {% include 'components/_toast.html.twig' with { type: label,  message: message } %}
            {% endfor %}
        {% endfor %}
    </div>


    <div class="page-container">
        <div class="dashboard-layout">

            {{ include('components/_sidebar.html.twig') }}

            <!-- Main Content -->
            <div class="dashboard-content">

                {# Home #}
                {% if app.request.attributes.get('_route') == 'dashboard.home' %}
                    {% include 'components/_section_header.html.twig' with {
                        title: 'DASHBOARD OVERVIEW',
                        description: 'Welcome to your dashboard! Here you can manage your blog posts, categories, and users. Use the sidebar to navigate through different sections.',
                    } %}
                    {{ include('components/_userGuide.html.twig') }}
                {% endif %}

                {# Blogs #}
                {% if  app.request.attributes.get('_route') == 'dashboard.allBlogs' %}
                    {{ include('components/_blogs_table.html.twig') }}
                {% elseif app.request.attributes.get('_route') == 'dashboard.editBlog' %}
                    {% include 'components/_section_header.html.twig' with {
                        title: 'EDIT YOUR BLOG POST',
                        description: 'Hit the "Save" button after finishing the editing.',
                    } %}
                    {{ include('components/_blogForm.html.twig') }}
                {% elseif app.request.attributes.get('_route') == 'dashboard.createBlog' %}
                    {% include 'components/_section_header.html.twig' with {
                        title: 'CREATE A NEW BLOG POST',
                        description: 'Start writing your amazing blog post',
                    } %}
                    {{ include('components/_blogForm.html.twig') }}
                {% endif %}

                {# Categories #}
                {% if app.request.attributes.get('_route') == 'dashboard.allBlogCategories' %}
                    {{ include('components/_categories_table.html.twig') }}
                {% elseif app.request.attributes.get('_route') == 'dashboard.createBlogCategories' %}
                    {% include 'components/_section_header.html.twig' with {
                        title: 'CREATE NEW CATEGORY',
                        description: 'Fill in the form to create a new category',
                    } %}
                    {{ include('components/_categoryForm.html.twig') }}
                {% elseif app.request.attributes.get('_route') == 'dashboard.editBlogCategories' %}
                    {% include 'components/_section_header.html.twig' with {
                        title: 'EDITING CATEGORY',
                        description: 'Update the category here',
                    } %}
                    {{ include('components/_categoryForm.html.twig') }}
                {% endif %}


                {# Users #}
                {% if app.request.attributes.get('_route') == 'dashboard.users' %}
                    {{ include('components/_users_table.html.twig') }}
                {% elseif app.request.attributes.get('_route') == 'dashboard.userEdit' %}
                    {% include 'components/_section_header.html.twig' with {
                        title: 'EDITING USER PROFILE',
                        description: 'Update the user data',
                    } %}
                    {{ include('components/_userForm.html.twig') }}
                {% elseif app.request.attributes.get('_route') == 'dashboard.userCreate' %}
                    {% include 'components/_section_header.html.twig' with {
                        title: 'CREATE NEW USER',
                        description: 'Fill in the form to create a new user',
                    } %}
                    {{ include('components/_userForm.html.twig') }}
                {% endif %}

            </div>
        </div>
    </div>

{% endblock %}
